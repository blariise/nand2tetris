@KBD
D=A
@SCREEN_SIZE
D=D-1
M=D
@SCREEN
D=A
@SCREEN_SIZE
M=M-D

(CHECK_FOR_KEY)
@KBD
D=M
@FILL_SCREEN_BLACK
D;JNE

@CHECK_IF_SCREEN_ALREADY_WHITE
D;JEQ

@CHECK_FOR_KEY
0;JMP

(CHECK_IF_SCREEN_ALREADY_WHITE)
@SCREEN
D=M
@FILL_SCREEN_WHITE
D;JNE
@CHECK_FOR_KEY
0;JMP

(FILL_SCREEN_BLACK)
@SCREEN_SIZE
D=M
@i
M=D
(LOOP_BLACK)
  @i
  D=M
  @CHECK_FOR_KEY
  D;JLT

  @SCREEN
  A=D+A
  M=-1
  
  @i
  M=M-1

  @LOOP_BLACK
  0;JMP

(FILL_SCREEN_WHITE)
@SCREEN_SIZE
D=M
@i
M=D
(LOOP_WHITE)
  @i
  D=M
  @CHECK_FOR_KEY
  D;JLT

  @SCREEN
  A=D+A
  M=0
  
  @i
  M=M-1

  @LOOP_WHITE
  0;JMP

(END)
@END
0;JMP
